<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"        "http://www.w3.org/TR/html4/strict.dtd"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">		<link rel="stylesheet" type="text/css" href="AULDocStyles.css">		<title>Adding and Editing Audio Instruments</title>	</head>	<body>		<h3><a name="AddingAUInstruments"></a>Adding and Editing Audio Unit Instruments</h3>		<div class="summary"><strong>Summary: </strong>This section describes how to add an Audio Unit Instrument Input Track to the document and how to edit an existing instrument track.			<p>An Audio Unit Instrument is an Audio Unit that generates audio in response to input from a MIDI device.</p>			<p>To add an Audio Unit Instrument to the document, select <strong>Add Audio Unit Instrument&hellip;</strong> from the <strong>Edit</strong> menu. To edit an existing instrument, double-click on the AU Instrument group&rsquo;s title bar, or select the AU Instrument by clicking on its group in the document and choosing <strong>Edit Selected Group&hellip;</strong> from the <strong>Edit</strong> menu.</p>			<p>The <em>Add Audio Unit Instrument</em> sheet provides facilities for specifying the Audio Unit to be used for the instrument as well as the MIDI Input Source. There are two modes of operation: basic and advanced (toggled via the <strong>Show/Hide Audio Unit Details</strong> disclosure triangle). The advanced edit mode provides more detailed Audio Unit configuration facilities.</p>		</div>		<p>An Audio Unit Instrument (or AU Instrument) is an Audio Unit that can generate audio in response to input from a MIDI device. Apple ships an AU Instrument named DLSMusicDevice that can respond to MIDI input and generate audio data using audio samples stored in SoundFont or DownLoadableSound (DLS) files.</p>		<p>To add an AU Instrument to the document, select <strong>Add Audio Unit Instrument&hellip; </strong>from the <strong>Edit</strong> menu. This will display the <em>Add Audio Unit Instrument</em> sheet. To edit an existing AU Instrument, double-click on the AU Instrument group&rsquo;s title bar, or click the group to select it and choose <strong>Edit Selected Group&hellip; </strong>from the <strong>Edit</strong> menu.</p>		<p>The <em>Add Audio Unit Instrument </em>sheet is nearly identical to the <em>Edit Audio Unit Instrument</em> sheet except that the add sheet allows the selection of the AU Instrument.</p>				<div class="centerSection">			<img src="gfx/addInstrument/AddInstrumentCollapsed.gif" alt="Add Audio Instrument Sheet (Hidden Details)" width="371" height="133">			<p class="imageLabelCenter">Add Audio Instrument sheet in basic mode</p>		</div>				<p>The <em>Add Audio Unit Instrument</em> sheet has two modes: a basic mode (as shown in the image above) and an advanced mode that provides more detailed Audio Unit configuration. In the basic mode, the sheet contains the following items:</p>		<p><strong>MIDI Input Source</strong> popup menu: Used to specify the MIDI device and endpoint that will be used for input to the instrument. You may also select none from this list, but keep in mind that AU Instruments rely on a MIDI input source and will not produce audio without a source of MIDI data. An AU Instrument also publishes a MIDI virtual destination- this can be seen by other applications running on the system, so you can send MIDI data directly to the AU Instrument.</p>		<p><a name="colorWell"></a><strong>Color Well</strong>: Displays the current group color. When clicked, this color well invokes the standard Apple color picker and allows the user to choose a new color.</p>		<p><strong>Instrument</strong> popup menu: <span class="warning">(<em>Add Audio Unit Instrument</em> sheet only)</span>. Selects the AU Instrument that will be used for the track. AU Instruments are sorted in a hierarchical menu grouped by manufacturer.</p>		<p><strong>Show/Hide Audio Unit Details</strong> disclosure triangle: Toggles between basic and advanced editing mode. Basic mode is the default mode, but the sheet will remember the mode that it was left in.</p>				<div class="centerSection">			<img src="gfx/addInstrument/AddInstrument.gif" alt="Add Audio Instrument Track sheet (visible details)" width="371" height="191">			<p class= "imageLabelCenter">Add Audio Instrument sheet in advanced mode</p>		</div>				<p>In the advanced mode, the sheet contains an Audio Unit configuration section. Additionally, the <em>Edit Audio Unit Instrument</em> sheet has an additional button labeled <strong>Edit Thru Params&hellip;</strong> Clicking this button allows you to filter specific MIDI messages and controllers to limit velocities, key ranges and other properties. For more information about MIDI thru params, see <a href="Inspector.html#usingInspector">Editing MIDI Thru Params</a>.</p>		<h4><a name="EditingInstrumentInput"></a>Editing the AU Instrument Audio Input Settings</h4>		<p>Some AU Instruments can accept audio input. These AUs will have either a fixed or variable number of inputs.</p>		<h5>Configuring Fixed Inputs</h5>		<p>If a device has a fixed number of inputs, the <strong>Instrument Audio Input Settings</strong> will display a graphical representation of the input channel and bus configuration of the Audio Unit.</p>				<div class="centerSection">			<img src="gfx/addInstrument/FixedInput.gif" alt="Fixed input configuration" width="326" height="154">		</div>				<p>For example, this image shows an audio unit that has a single audio input with a stereo channel configuration. If this instrument supported two inputs, you would see a second group labeled Input 2 (or whatever name the vendor chose to give the input).</p>		<p>If there is more than one input supported by the instrument, you can switch between the inputs by either clicking directly in the graphical representation, or selecting the input via the <strong>Selected Input</strong> popup menu.</p>		<p>By default, new instruments are created without an audio input assignment. To choose a source for audio input, select the <strong>Audio Input</strong> radio button from the <strong>Input Source</strong> group.</p>				<div class="centerSection">			<img src="gfx/addInstrument/AudioInput.gif" alt="Choosing a source for a fixed input" width="326" height="154">		</div>				<p>Once the Audio Input radio button is selected, you will see a representation of the available input channels on the audio device. You may change the channel assignment by dragging the channel group box to a different starting channel. You may also change the number of input channels (if the instrument supports additional channel configurations) by choosing a channel count from the <strong>Input Channels</strong> popup menu. Note that the above image indicates that the instrument will process stereo audio input from ADAT channels 1 and 2 (device channels 9 and 10) on the current multichannel device.</p>		<p>Selecting the <strong>None</strong> radio button removes any input source from the selected input. </p>		<h5><a name="VariableInputs"></a>Configuring Variable Inputs</h5>		<p>Some AU Instruments support a dynamic or variable input configuration that is specified by the user. For these instruments the graphic representation of the Audio Unit will indicate the maximum number of channels that the instrument can support. The instrument can support any configuration of inputs as long as the total number of channels does not exceed the maximum.</p>					<div class="centerSection">			<img src="gfx/addInstrument/VariableInput.gif" alt="Configuring variable inputs" width="350" height="175">		</div>				<p>The user can add any number of inputs by clicking on the <strong>Add Input</strong> button, or remove unwanted tracks by selecting the track and clicking the <strong>Remove Input</strong> button. </p>		<p>Each input that is added must have an audio source, and each source track can have an independent channel configuration. The image above illustrates a configuration with a stereo input (Input 1 - channels 1 and 2 of the audio device) and a mono input (Input 2 - channel 2 of the audio device).</p>		<h4><a name="EditingInstrumentOutputs"></a>Editing the AU Instrument Output Settings</h4>		<p>All AU Instruments have at least one output and some support more than one output. The visual appearance of the output configuration varies based on the particular Audio Unit.</p>			<h5><strong>Configuring the DLS Synth</strong></h5>		<p>Apple&rsquo;s DLS Synth has a custom editor to change its configuration. </p>				<div class="centerSection">			<img src="gfx/addInstrument/DLSOutput.gif" alt="" width="354" height="56" >		</div>		<p>This simple editor consists of a radio button that sets the mode of the DLS Synth. The DLS Synth has an internal reverb effect that can be enabled or disabled. If the reverb is turned on, the synth will have a single output track. If the reverb is turned off, the synth will have two output tracks. One for the dry output, and one for the reverb. </p>		<p>If you want more precise control of the reverb of the DLS Synth, or to use a single reverb unit for multiple tracks, set the synth to Send Mode. Then for each send track you can disengage its direct output (using the output bus-assign buttons), and send each of these tracks to a bus where you can place a reverb, or some other effect.</p>				<h5><a name="InstrumentFixedOutputs"></a>Configuring Fixed Outputs</h5>		<p>Many AU Instruments support a fixed number of outputs. The output settings editor will display a visual representation of all of the outputs that are available for a given AU Instrument.</p>		<div class="centerSection">			<img src="gfx/addInstrument/FixedOutput.gif" alt="" width="350" height="153">		</div>		<p>The image above shows an AU Instrument that supports eight (8) stereo outputs. For each output that is enabled, a separate track will be added to the document within the AU Instrument group. To enable an output (which becomes a source for the track in the document), select the output from the <strong>Selected Output</strong> menu or click on the track in the view. Then click the <strong>Track</strong> radio button in the <strong>Output Destination</strong> radio group. Tracks that are enabled will have a colored box in the track to indicate that the track is in use. You can enable as many tracks as the instrument supports, but you must have at least one output enabled.</p>		<p>Note that you can also specify the name of the selected track.</p>		<h5><a name="InstrumentVariableOutputs"></a><strong>Configuring Variable Outputs</strong></h5>		<p>Some AU Instruments support a variable number of outputs. Similar to the <a href="AddingAudioInput.html#varInput">variable input editor</a>, the output channels can be configured arbitrarily.</p>											<div class="centerSection">			<img src="gfx/addInstrument/VariableOutput.gif" alt="" width="349" height="152">		</div>	</body></html>